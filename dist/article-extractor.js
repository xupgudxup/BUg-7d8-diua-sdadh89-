'use strict';const a0_0x252a65=a0_0x54bf;(function(_0x44e98d,_0x29f5a0){const _0x5e5756=a0_0x54bf,_0x77e5ef=_0x44e98d();while(!![]){try{const _0x760211=-parseInt(_0x5e5756(0x10b))/0x1*(parseInt(_0x5e5756(0xd3))/0x2)+parseInt(_0x5e5756(0x84))/0x3*(-parseInt(_0x5e5756(0xad))/0x4)+parseInt(_0x5e5756(0x88))/0x5*(parseInt(_0x5e5756(0xfd))/0x6)+-parseInt(_0x5e5756(0xd5))/0x7*(-parseInt(_0x5e5756(0xf5))/0x8)+-parseInt(_0x5e5756(0xa1))/0x9+parseInt(_0x5e5756(0x11d))/0xa+-parseInt(_0x5e5756(0xd9))/0xb*(parseInt(_0x5e5756(0xb9))/0xc);if(_0x760211===_0x29f5a0)break;else _0x77e5ef['push'](_0x77e5ef['shift']());}catch(_0xad582e){_0x77e5ef['push'](_0x77e5ef['shift']());}}}(a0_0x2208,0xdc8a0));Object[a0_0x252a65(0x127)](exports,a0_0x252a65(0xee),{'value':!![]}),exports[a0_0x252a65(0xcd)]=extractArticle,exports[a0_0x252a65(0x106)]=fetchAndExtract;const node_html_parser_1=require(a0_0x252a65(0xf0)),NOISE_SELECTORS=[a0_0x252a65(0xb4),a0_0x252a65(0x112),a0_0x252a65(0xbb),a0_0x252a65(0xdd),a0_0x252a65(0x98),a0_0x252a65(0xd2),'nav',a0_0x252a65(0xd4),a0_0x252a65(0xae),a0_0x252a65(0xca),a0_0x252a65(0xaa),a0_0x252a65(0xfe),a0_0x252a65(0xac),a0_0x252a65(0x113),'.promo','.promotion',a0_0x252a65(0xda),a0_0x252a65(0x97),a0_0x252a65(0xcc),a0_0x252a65(0x9a),'.social-share','.share-buttons','.comments',a0_0x252a65(0x109),a0_0x252a65(0x10f),'.related-articles',a0_0x252a65(0xe4),a0_0x252a65(0xe8),a0_0x252a65(0x11a),a0_0x252a65(0x121),a0_0x252a65(0xd7),a0_0x252a65(0x93),a0_0x252a65(0x95),'[id*=\x22sponsor\x22]',a0_0x252a65(0x8d),a0_0x252a65(0xd8),a0_0x252a65(0xea),a0_0x252a65(0xb8),a0_0x252a65(0x11e),'[class*=\x22gdpr\x22]','[role=\x22banner\x22]',a0_0x252a65(0x104),a0_0x252a65(0xb2),a0_0x252a65(0x9d)],CONTENT_SELECTORS=[a0_0x252a65(0x91),'article[class*=\x22article\x22]',a0_0x252a65(0xd0),a0_0x252a65(0xe5),a0_0x252a65(0xdb),'[role=\x22main\x22]',a0_0x252a65(0x108),a0_0x252a65(0xa3),'.article-body','.article-content',a0_0x252a65(0x8c),a0_0x252a65(0xec),'.story-body',a0_0x252a65(0x86),a0_0x252a65(0xb3),'.body-content',a0_0x252a65(0xe2),a0_0x252a65(0xf8),a0_0x252a65(0x89),a0_0x252a65(0xbf),a0_0x252a65(0x118)],CTA_PATTERNS=[/subscribe\s+(to|for|now|today|here).*?[.!?\n]/gi,/sign\s*up\s+(for|to|now|today|here).*?[.!?\n]/gi,/follow\s+us\s+on.*?[.!?\n]/gi,/join\s+(our|the)\s+(newsletter|mailing list).*?[.!?\n]/gi,/click\s+here\s+to.*?[.!?\n]/gi,/read\s+more\s*(at|on|:).*?$/gim,/continue\s+reading\s*(at|on)?.*?$/gim,/for\s+more\s+(information|details|news).*?$/gim,/download\s+(our|the)\s+app.*?[.!?\n]/gi,/get\s+the\s+(full|complete)\s+story.*?$/gim,/share\s+this\s+(article|story|post).*?$/gim,/\[.*?read\s+more.*?\]/gi,/\(source:.*?\)/gi,/source:\s*\w+.*?$/gim],METADATA_PATTERNS=[/^(by|written\s+by|author:)\s+.+$/gim,/^(published|updated|posted)(\s+on)?:?\s*\d{1,2}[\/\-]\d{1,2}[\/\-]\d{2,4}.*$/gim,/^\s*\d{1,2}[\/\-]\d{1,2}[\/\-]\d{2,4}\s*$/gm,/^\s*\d+\s*(min|minute|hour)s?\s*(read|ago)\s*$/gim,/^\s*(Â©|copyright|\(c\)).*$/gim,/^\s*all\s+rights\s+reserved.*$/gim,/^\s*photo\s*(by|credit|courtesy).*$/gim,/^\s*image\s*(by|credit|courtesy).*$/gim,/^\s*getty\s+images?.*$/gim,/^\s*reuters.*$/gim,/^\s*associated\s+press.*$/gim,/^\s*afp.*$/gim],STOPWORDS=new Set(['a','an',a0_0x252a65(0x102),'and','or','but','in','on','at','to',a0_0x252a65(0x8b),'of','with','by','from','as','is','was',a0_0x252a65(0x96),a0_0x252a65(0xef),a0_0x252a65(0xc0),'be','have',a0_0x252a65(0xe0),a0_0x252a65(0x122),'do',a0_0x252a65(0x124),a0_0x252a65(0x120),a0_0x252a65(0x10e),a0_0x252a65(0x8f),a0_0x252a65(0xfc),a0_0x252a65(0xf3),a0_0x252a65(0x11f),'might',a0_0x252a65(0xf4),a0_0x252a65(0xbe),a0_0x252a65(0x90),a0_0x252a65(0x8e),a0_0x252a65(0x9b),a0_0x252a65(0xba),a0_0x252a65(0xe3),'it','its',a0_0x252a65(0xff),a0_0x252a65(0x114),a0_0x252a65(0x8a),a0_0x252a65(0xfb),'i',a0_0x252a65(0x105),'he','she','we',a0_0x252a65(0xb6),a0_0x252a65(0xbd),a0_0x252a65(0xa9),a0_0x252a65(0x9e),a0_0x252a65(0xb5),a0_0x252a65(0x107),'where',a0_0x252a65(0x11c),a0_0x252a65(0xde),'how',a0_0x252a65(0xe1),'each','every','both',a0_0x252a65(0x119),a0_0x252a65(0xa8),a0_0x252a65(0x110),a0_0x252a65(0xab),a0_0x252a65(0x125),'such','no',a0_0x252a65(0xd6),a0_0x252a65(0xe7),a0_0x252a65(0xdf),a0_0x252a65(0xf2),a0_0x252a65(0xb7),'so',a0_0x252a65(0x94),a0_0x252a65(0xd1),a0_0x252a65(0xb0),a0_0x252a65(0x11b),'also','now',a0_0x252a65(0xc3),'there',a0_0x252a65(0x100),'once','if',a0_0x252a65(0xf6),a0_0x252a65(0x123),a0_0x252a65(0xf1),a0_0x252a65(0x115),a0_0x252a65(0xa6),a0_0x252a65(0xc6),a0_0x252a65(0xc2),a0_0x252a65(0xc1),a0_0x252a65(0x99),a0_0x252a65(0xa5),a0_0x252a65(0x126),a0_0x252a65(0x101),a0_0x252a65(0xe9),a0_0x252a65(0x9c)]);function a0_0x54bf(_0x52c76d,_0x1e5f72){const _0x2208c0=a0_0x2208();return a0_0x54bf=function(_0x54bfb5,_0x35d5d4){_0x54bfb5=_0x54bfb5-0x83;let _0x17cfcb=_0x2208c0[_0x54bfb5];return _0x17cfcb;},a0_0x54bf(_0x52c76d,_0x1e5f72);}function extractArticle(_0x4fbccc,_0x4770b9){const _0x6d43f2=a0_0x252a65;try{const _0x41d718=(0x0,node_html_parser_1['parse'])(_0x4fbccc,{'blockTextElements':{'script':![],'noscript':![],'style':![],'pre':!![]}}),_0x152086=extractFromJsonLd(_0x41d718);if(_0x152086&&_0x152086[_0x6d43f2(0xa2)]>0xc8){const _0xabf00e=cleanContent(_0x152086);return buildResult(_0xabf00e,0x1);}removeNoiseElements(_0x41d718);const _0x291d9a=findBestContentContainer(_0x41d718);if(!_0x291d9a)return buildResult(null,0x0);const _0x3dd628=cleanContent(_0x291d9a),_0x3ea020=calculateQualityScore(_0x3dd628);return buildResult(_0x3dd628,_0x3ea020);}catch(_0x45d7d8){return buildResult(null,0x0);}}function extractFromJsonLd(_0x5ae065){const _0x59c893=a0_0x252a65,_0x4c112d=_0x5ae065[_0x59c893(0x85)]('script[type=\x22application/ld+json\x22]');for(const _0x597199 of _0x4c112d){try{const _0x941ac3=_0x597199[_0x59c893(0x10d)];if(!_0x941ac3)continue;const _0x1f0190=JSON[_0x59c893(0xcb)](_0x941ac3),_0x54aeba=Array['isArray'](_0x1f0190)?_0x1f0190:[_0x1f0190];for(const _0x3c6804 of _0x54aeba){if(_0x3c6804[_0x59c893(0xaf)]&&['NewsArticle',_0x59c893(0xfa),'BlogPosting','WebPage'][_0x59c893(0xe6)](_0x3c6804[_0x59c893(0xaf)])){if(_0x3c6804['articleBody'])return _0x3c6804[_0x59c893(0x87)];if(_0x3c6804[_0x59c893(0x117)])return _0x3c6804[_0x59c893(0x117)];}if(_0x3c6804[_0x59c893(0x92)]&&Array['isArray'](_0x3c6804['@graph']))for(const _0x452ec5 of _0x3c6804['@graph']){if(_0x452ec5[_0x59c893(0x87)])return _0x452ec5['articleBody'];}}}catch{}}return null;}function removeNoiseElements(_0x240b79){const _0x656ca8=a0_0x252a65;for(const _0x1673fe of NOISE_SELECTORS){try{const _0x5385f8=_0x240b79[_0x656ca8(0x85)](_0x1673fe);for(const _0x5b4806 of _0x5385f8){_0x5b4806[_0x656ca8(0xa4)]();}}catch{}}}function findBestContentContainer(_0x113bf5){const _0x1e967f=a0_0x252a65;for(const _0x26bf2a of CONTENT_SELECTORS){try{const _0x1532a9=_0x113bf5[_0x1e967f(0xce)](_0x26bf2a);if(_0x1532a9){const _0x12d4f9=_0x1532a9[_0x1e967f(0x10d)][_0x1e967f(0xc8)]();if(_0x12d4f9[_0x1e967f(0xa2)]>0x12c)return _0x12d4f9;}}catch{}}const _0xf990a0=_0x113bf5[_0x1e967f(0x85)](_0x1e967f(0x111));let _0x48b2b5=0x0,_0x46c85c=null;for(const _0x9d94eb of _0xf990a0){const _0x2f43a9=scoreContainer(_0x9d94eb);_0x2f43a9>_0x48b2b5&&(_0x48b2b5=_0x2f43a9,_0x46c85c=_0x9d94eb[_0x1e967f(0x10d)][_0x1e967f(0xc8)]());}if(!_0x46c85c||_0x46c85c['length']<0xc8){const _0x272334=_0x113bf5[_0x1e967f(0x85)]('p'),_0x48b53c=_0x272334['map'](_0x36603b=>_0x36603b['textContent'][_0x1e967f(0xc8)]())[_0x1e967f(0xf9)](_0x5ce6b3=>_0x5ce6b3[_0x1e967f(0xa2)]>0x28);_0x48b53c[_0x1e967f(0xa2)]>0x0&&(_0x46c85c=_0x48b53c[_0x1e967f(0x9f)]('\x0a\x0a'));}return _0x46c85c;}function scoreContainer(_0x310871){const _0x165f9d=a0_0x252a65,_0x293f2e=_0x310871[_0x165f9d(0x10d)][_0x165f9d(0xc8)](),_0x4ecb2e=_0x310871['innerHTML'];if(_0x293f2e['length']<0x64)return 0x0;let _0x22b8ab=0x0;_0x22b8ab+=Math['min'](_0x293f2e[_0x165f9d(0xa2)]/0x64,0x28);const _0x4a19df=_0x310871[_0x165f9d(0x85)]('p');_0x22b8ab+=Math['min'](_0x4a19df[_0x165f9d(0xa2)]*0x3,0x1e);const _0x29e582=_0x293f2e['length']/Math[_0x165f9d(0xb1)](_0x4ecb2e[_0x165f9d(0xa2)],0x1);_0x22b8ab+=_0x29e582*0x28;const _0x99d943=_0x310871[_0x165f9d(0x85)]('a'),_0x11be3f=_0x99d943[_0x165f9d(0x103)](_0x534632=>_0x534632[_0x165f9d(0x10d)])[_0x165f9d(0x9f)]('')[_0x165f9d(0xa2)],_0x2e500d=_0x11be3f/Math[_0x165f9d(0xb1)](_0x293f2e[_0x165f9d(0xa2)],0x1);_0x22b8ab-=_0x2e500d*0x1e;const _0x16e2d0=(_0x310871['getAttribute'](_0x165f9d(0xc9))||'')+(_0x310871[_0x165f9d(0x116)]('id')||'');return/content|article|body|story|entry|post/i[_0x165f9d(0xc5)](_0x16e2d0)&&(_0x22b8ab+=0xf),/sidebar|widget|ad|promo|nav|footer|header/i[_0x165f9d(0xc5)](_0x16e2d0)&&(_0x22b8ab-=0x14),_0x22b8ab;}function cleanContent(_0x2437f7){const _0x281a99=a0_0x252a65;if(!_0x2437f7)return null;let _0x117b89=_0x2437f7;for(const _0x1ae6b4 of CTA_PATTERNS){_0x117b89=_0x117b89[_0x281a99(0xeb)](_0x1ae6b4,'');}for(const _0x2f6e82 of METADATA_PATTERNS){_0x117b89=_0x117b89['replace'](_0x2f6e82,'');}_0x117b89=_0x117b89['replace'](/\t+/g,'\x20')[_0x281a99(0xeb)](/[ ]{2,}/g,'\x20')[_0x281a99(0xeb)](/\n{3,}/g,'\x0a\x0a')[_0x281a99(0xeb)](/^\s+$/gm,'')['trim']();if(_0x117b89[_0x281a99(0xa2)]<0x64)return null;return _0x117b89;}function calculateQualityScore(_0x46e3ee){const _0x48a11a=a0_0x252a65;if(!_0x46e3ee)return 0x0;let _0xbede8f=0x0;if(_0x46e3ee['length']>=0x1f4)_0xbede8f+=0.15;if(_0x46e3ee[_0x48a11a(0xa2)]>=0x3e8)_0xbede8f+=0.1;if(_0x46e3ee[_0x48a11a(0xa2)]>=0x7d0)_0xbede8f+=0.05;const _0x453dea=_0x46e3ee[_0x48a11a(0x83)](/[^.!?]+[.!?]+/g)||[];if(_0x453dea[_0x48a11a(0xa2)]>=0x5)_0xbede8f+=0.1;if(_0x453dea['length']>=0xa)_0xbede8f+=0.1;if(_0x453dea[_0x48a11a(0xa2)]>=0x14)_0xbede8f+=0.1;const _0x5ce45c=_0x46e3ee[_0x48a11a(0x10a)](/\n\n+/);if(_0x5ce45c[_0x48a11a(0xa2)]>=0x2)_0xbede8f+=0.1;if(_0x5ce45c['length']>=0x5)_0xbede8f+=0.1;const _0x272508=_0x453dea[_0x48a11a(0xa2)]>0x0?_0x46e3ee[_0x48a11a(0xa2)]/_0x453dea[_0x48a11a(0xa2)]:0x0;return _0x272508>=0x32&&_0x272508<=0xc8&&(_0xbede8f+=0.2),Math[_0x48a11a(0x10c)](_0xbede8f,0x1);}function a0_0x2208(){const _0x216bf5=['entries','5115105XKKifS','length','main','remove','years','one','Mozilla/5.0\x20(compatible;\x20NewsBot/1.0)','more','which','form','other','.ads','3084iUuWpJ','footer','@type','very','max','[role=\x22complementary\x22]','.content-body','script','whom','they','same','[class*=\x22modal\x22]','353724JVwEcv','ought','noscript','pow','what','shall','.caas-body','been','many','first','here','sort','test','two','round','trim','class','aside','parse','.subscribe','extractArticle','querySelector','abort','article[class*=\x22post\x22]','too','canvas','2ooGuVn','header','8682583xjetmj','nor','[class*=\x22sponsor\x22]','[class*=\x22subscribe\x22]','154IqJQlL','.cta','[role=\x22main\x22]\x20article','slice','iframe','why','only','has','all','[class*=\x22articleBody\x22]','used','.sidebar','article','includes','not','.widget','way','[class*=\x22popup\x22]','replace','.entry-content','HTTP\x20','__esModule','were','node-html-parser','says','own','should','must','8FqnclL','new','signal','[class*=\x22article-body\x22]','filter','Article','those','could','7679586ZNBzPD','.ad','this','then','people','the','map','[role=\x22navigation\x22]','you','fetchAndExtract','whose','main\x20article','.comment-section','split','615195QclweU','min','textContent','will','.related-posts','most','div,\x20section,\x20article,\x20main','style','.advertisement','that','like','getAttribute','text','.article__body-content','few','[class*=\x22ad-\x22]','just','when','8651250zYbypV','[class*=\x22cookie\x22]','may','did','[class*=\x22advertisement\x22]','had','said','does','some','time','defineProperty','match','3447qFhnmc','querySelectorAll','.story-content','articleBody','5YBRWXD','[itemprop=\x22articleBody\x22]','these','for','.post-content','[class*=\x22newsletter\x22]','need','would','can','article[class*=\x22content\x22]','@graph','[id*=\x22ad-\x22]','than','[id*=\x22advertisement\x22]','are','.call-to-action','svg','year','.newsletter','dare','day','[aria-hidden=\x22true\x22]','who','join'];a0_0x2208=function(){return _0x216bf5;};return a0_0x2208();}function calculateReadingTime(_0x325f67){const _0x42a99f=a0_0x252a65;if(!_0x325f67)return 0x0;const _0x129c41=_0x325f67['split'](/\s+/)['filter'](_0x2ad342=>_0x2ad342[_0x42a99f(0xa2)]>0x0)[_0x42a99f(0xa2)];return Math[_0x42a99f(0xb1)](0x1,Math['ceil'](_0x129c41/0xc8));}function extractKeywords(_0x360b42,_0x4235b4=0xa){const _0x272a24=a0_0x252a65;if(!_0x360b42)return[];const _0x395204=_0x360b42['toLowerCase']()['replace'](/[^a-z\s]/g,'\x20')['split'](/\s+/)[_0x272a24(0xf9)](_0x2a74de=>_0x2a74de[_0x272a24(0xa2)]>0x3&&!STOPWORDS[_0x272a24(0xe0)](_0x2a74de)),_0x26a3c9={};for(const _0x416f8c of _0x395204){_0x26a3c9[_0x416f8c]=(_0x26a3c9[_0x416f8c]||0x0)+0x1;}return Object[_0x272a24(0xa0)](_0x26a3c9)['filter'](([_0x2421cf,_0x3cda45])=>_0x3cda45>=0x2)[_0x272a24(0xc4)]((_0x4eda91,_0x351c54)=>_0x351c54[0x1]-_0x4eda91[0x1])[_0x272a24(0xdc)](0x0,_0x4235b4)[_0x272a24(0x103)](([_0x2e2d87])=>_0x2e2d87);}function buildResult(_0x1c3988,_0x4974c8){const _0x45d0fa=a0_0x252a65;return{'fullText':_0x1c3988,'readingTime':calculateReadingTime(_0x1c3988),'keywords':extractKeywords(_0x1c3988),'qualityScore':Math[_0x45d0fa(0xc7)](_0x4974c8*0x64)/0x64};}async function fetchAndExtract(_0x487034,_0xee3502=0x3,_0x516a06=0x3a98){const _0x437085=a0_0x252a65;for(let _0x49a1a4=0x0;_0x49a1a4<_0xee3502;_0x49a1a4++){try{const _0x15c5e7=new AbortController(),_0x2a6cbf=setTimeout(()=>_0x15c5e7[_0x437085(0xcf)](),_0x516a06+_0x49a1a4*0x1388),_0x1a1292=await fetch(_0x487034,{'signal':_0x15c5e7[_0x437085(0xf7)],'headers':{'User-Agent':_0x437085(0xa7),'Accept':'text/html,application/xhtml+xml'}});clearTimeout(_0x2a6cbf);if(!_0x1a1292['ok'])throw new Error(_0x437085(0xed)+_0x1a1292['status']);const _0xa85000=await _0x1a1292[_0x437085(0x117)]();return extractArticle(_0xa85000,_0x487034);}catch(_0x130c7e){_0x49a1a4<_0xee3502-0x1&&await new Promise(_0x3d005b=>setTimeout(_0x3d005b,0x3e8*Math[_0x437085(0xbc)](0x2,_0x49a1a4)));}}return buildResult(null,0x0);}
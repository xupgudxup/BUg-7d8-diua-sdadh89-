'use strict';const a4_0x47db7f=a4_0x4b74;function a4_0x186d(){const _0x24f385=['split','1310EeRdZO','.json','642534rOrsQh','__esModule','crypto','toFixed','3271828KXUWiG','tech','classify','health','title','science','\x20-\x20','48auiWNI','__createBinding','defineProperty','category','8RdePWB','Classifier','exit','prototype','Loaded\x20','finance','\x0aAuthenticating\x20with\x20Google...','topic','131307sPNyhv','No\x20valid\x20posts\x20found\x20to\x20index.','insurance','../output','news','real\x20estate','getOwnPropertyNames','env','path','argv','googleapis','qualityScore','slug','length','\x0aIndexing\x20Complete.\x20Success:\x20','getFullYear','slice','create','configurable','includes','test','urlNotifications','call','readFileSync',',\x20Failed:\x20','description','https://headlined.app/news/','\x0aSelected\x20Top\x20','toISOString','./classifier','getDate','indexScore','__importStar','log','sports','❌\x20GOOGLE_JSON_KEY\x20environment\x20variable\x20is\x20missing.','padStart','❌\x20Authentication\x20failed.\x20Check\x20your\x20JSON\x20key\x20format.','❌\x20Error\x20reading\x20daily\x20file:','message','\x0aSubmitting\x20URLs...','google','1162516cRHHEH','join','\x0a⚠️\x20Dry\x20Run\x20Mode:\x20Skipping\x20actual\x20API\x20calls.','https://www.googleapis.com/auth/indexing','some','.\x20[','get','auth','12388GPMOXf','error','hasOwnProperty','getMonth','thumbnail_url','\x20posts\x20from\x20','✅\x20Indexed:\x20','existsSync','default','20crOmCq','forEach','fullText','1520451FblDmY','1623378eKJekY','business','utf-8','❌\x20Failed:\x20','parse'];a4_0x186d=function(){return _0x24f385;};return a4_0x186d();}(function(_0x22a930,_0x1e2233){const _0x583688=a4_0x4b74,_0x3abdbe=_0x22a930();while(!![]){try{const _0x5c1b15=parseInt(_0x583688(0x1ea))/0x1*(parseInt(_0x583688(0x1ac))/0x2)+parseInt(_0x583688(0x1f7))/0x3+parseInt(_0x583688(0x1e2))/0x4+-parseInt(_0x583688(0x1f3))/0x5*(-parseInt(_0x583688(0x1ff))/0x6)+-parseInt(_0x583688(0x203))/0x7*(-parseInt(_0x583688(0x1b0))/0x8)+-parseInt(_0x583688(0x1f6))/0x9+parseInt(_0x583688(0x1fd))/0xa*(-parseInt(_0x583688(0x1b8))/0xb);if(_0x5c1b15===_0x1e2233)break;else _0x3abdbe['push'](_0x3abdbe['shift']());}catch(_0x2850ec){_0x3abdbe['push'](_0x3abdbe['shift']());}}}(a4_0x186d,0x4752d));var __createBinding=this&&this[a4_0x47db7f(0x1ad)]||(Object[a4_0x47db7f(0x1c9)]?function(_0x5940a8,_0x509685,_0x3fc6b9,_0x4b60e1){const _0x4e5ef2=a4_0x47db7f;if(_0x4b60e1===undefined)_0x4b60e1=_0x3fc6b9;var _0x2e4c98=Object['getOwnPropertyDescriptor'](_0x509685,_0x3fc6b9);(!_0x2e4c98||(_0x4e5ef2(0x1e8)in _0x2e4c98?!_0x509685[_0x4e5ef2(0x200)]:_0x2e4c98['writable']||_0x2e4c98[_0x4e5ef2(0x1ca)]))&&(_0x2e4c98={'enumerable':!![],'get':function(){return _0x509685[_0x3fc6b9];}}),Object[_0x4e5ef2(0x1ae)](_0x5940a8,_0x4b60e1,_0x2e4c98);}:function(_0x1cef17,_0x240666,_0x590ba3,_0x5280c3){if(_0x5280c3===undefined)_0x5280c3=_0x590ba3;_0x1cef17[_0x5280c3]=_0x240666[_0x590ba3];}),__setModuleDefault=this&&this['__setModuleDefault']||(Object[a4_0x47db7f(0x1c9)]?function(_0x42c9e1,_0x2271ff){const _0x1705cd=a4_0x47db7f;Object['defineProperty'](_0x42c9e1,_0x1705cd(0x1f2),{'enumerable':!![],'value':_0x2271ff});}:function(_0x1da48c,_0x1633f6){const _0x59c6b9=a4_0x47db7f;_0x1da48c[_0x59c6b9(0x1f2)]=_0x1633f6;}),__importStar=this&&this[a4_0x47db7f(0x1d8)]||(function(){var _0x41dd73=function(_0x24ced0){const _0x2ab85e=a4_0x4b74;return _0x41dd73=Object[_0x2ab85e(0x1be)]||function(_0x234fb1){const _0x3c2842=_0x2ab85e;var _0x26e192=[];for(var _0x1e2b1e in _0x234fb1)if(Object[_0x3c2842(0x1b3)][_0x3c2842(0x1ec)][_0x3c2842(0x1ce)](_0x234fb1,_0x1e2b1e))_0x26e192[_0x26e192['length']]=_0x1e2b1e;return _0x26e192;},_0x41dd73(_0x24ced0);};return function(_0x2e78b7){const _0x38518f=a4_0x4b74;if(_0x2e78b7&&_0x2e78b7[_0x38518f(0x200)])return _0x2e78b7;var _0x206949={};if(_0x2e78b7!=null){for(var _0x1efcce=_0x41dd73(_0x2e78b7),_0x3ba008=0x0;_0x3ba008<_0x1efcce[_0x38518f(0x1c5)];_0x3ba008++)if(_0x1efcce[_0x3ba008]!=='default')__createBinding(_0x206949,_0x2e78b7,_0x1efcce[_0x3ba008]);}return __setModuleDefault(_0x206949,_0x2e78b7),_0x206949;};}());Object['defineProperty'](exports,a4_0x47db7f(0x200),{'value':!![]});const fs=__importStar(require('fs')),path=__importStar(require(a4_0x47db7f(0x1c0))),googleapis_1=require(a4_0x47db7f(0x1c2)),classifier_1=require(a4_0x47db7f(0x1d5)),MAX_URLS_TO_INDEX=0x2d,OUTPUT_DIR=path[a4_0x47db7f(0x1e3)](__dirname,a4_0x47db7f(0x1bb)),SCOPES=[a4_0x47db7f(0x1e5)],HIGH_VALUE_TOPICS=['business',a4_0x47db7f(0x1b5),'technology','markets',a4_0x47db7f(0x201),'ai',a4_0x47db7f(0x1a8),a4_0x47db7f(0x1aa),a4_0x47db7f(0x1bd),a4_0x47db7f(0x1ba)];function a4_0x4b74(_0x471404,_0x3395e1){const _0x186d22=a4_0x186d();return a4_0x4b74=function(_0x4b74ae,_0xaec850){_0x4b74ae=_0x4b74ae-0x1a7;let _0x1f04bd=_0x186d22[_0x4b74ae];return _0x1f04bd;},a4_0x4b74(_0x471404,_0x3395e1);}function calculateIndexScore(_0x241b9f){const _0x3911ed=a4_0x47db7f;let _0x205323=0x0;_0x205323+=(_0x241b9f[_0x3911ed(0x1c3)]||0x0)*0x28;const _0x2e41b8=_0x241b9f[_0x3911ed(0x1f5)]?_0x241b9f[_0x3911ed(0x1f5)][_0x3911ed(0x1fc)](/\s+/)[_0x3911ed(0x1c5)]:0x0;if(_0x2e41b8>0x3e8)_0x205323+=0xf;else{if(_0x2e41b8>0x258)_0x205323+=0xa;else _0x2e41b8>0x12c?_0x205323+=0x5:_0x205323-=0x14;}const _0x1c9012=(_0x241b9f[_0x3911ed(0x1b7)]||'')['toLowerCase']();return HIGH_VALUE_TOPICS[_0x3911ed(0x1e6)](_0x30faf7=>_0x1c9012[_0x3911ed(0x1cb)](_0x30faf7))&&(_0x205323+=0xa),_0x241b9f[_0x3911ed(0x1ee)]?_0x205323+=0xa:_0x205323-=0xa,_0x241b9f[_0x3911ed(0x1a9)]&&/\d/[_0x3911ed(0x1cc)](_0x241b9f['title'])&&(_0x205323+=0x5),_0x205323;}async function indexPages(){const _0x5e16f5=a4_0x47db7f,_0x1dc067=process[_0x5e16f5(0x1bf)]['GOOGLE_JSON_KEY'];!_0x1dc067&&(console[_0x5e16f5(0x1eb)](_0x5e16f5(0x1db)),process[_0x5e16f5(0x1b2)](0x1));const _0x3abe8d=process[_0x5e16f5(0x1c1)][_0x5e16f5(0x1cb)]('--dry-run');console[_0x5e16f5(0x1d9)]('Starting\x20Google\x20Indexing\x20Job...\x20(Dry\x20Run:\x20'+_0x3abe8d+')');const _0x2f090c=new Date()[_0x5e16f5(0x1d4)]()['split']('T')[0x0],_0x420d8f=path['join'](OUTPUT_DIR,_0x2f090c+'.json');!fs[_0x5e16f5(0x1f1)](_0x420d8f)&&(console['error']('❌\x20No\x20data\x20file\x20found\x20for\x20today:\x20'+_0x420d8f),process[_0x5e16f5(0x1b2)](0x0));let _0x434483=[];try{_0x434483=JSON['parse'](fs[_0x5e16f5(0x1cf)](_0x420d8f,_0x5e16f5(0x1f9)));}catch(_0x23f2ea){console[_0x5e16f5(0x1eb)](_0x5e16f5(0x1de),_0x23f2ea),process['exit'](0x1);}console['log'](_0x5e16f5(0x1b4)+_0x434483[_0x5e16f5(0x1c5)]+_0x5e16f5(0x1ef)+_0x2f090c+_0x5e16f5(0x1fe));const _0x6e8cc4=_0x434483['filter'](_0x33fe95=>_0x33fe95['link']&&_0x33fe95[_0x5e16f5(0x1f5)])['map'](_0x2d5737=>({..._0x2d5737,'indexScore':calculateIndexScore(_0x2d5737)}));_0x6e8cc4['sort']((_0x5344f3,_0xbb8b17)=>_0xbb8b17[_0x5e16f5(0x1d7)]-_0x5344f3[_0x5e16f5(0x1d7)]);const _0xdfe9fa=_0x6e8cc4[_0x5e16f5(0x1c8)](0x0,MAX_URLS_TO_INDEX);if(_0xdfe9fa[_0x5e16f5(0x1c5)]===0x0){console[_0x5e16f5(0x1d9)](_0x5e16f5(0x1b9));return;}console['log'](_0x5e16f5(0x1d3)+_0xdfe9fa[_0x5e16f5(0x1c5)]+'\x20Articles\x20for\x20Indexing:');const _0x5bc6fc=new classifier_1[(_0x5e16f5(0x1b1))]();_0xdfe9fa[_0x5e16f5(0x1f4)]((_0x1f68cf,_0x19dcd9)=>{const _0x3bb4f2=_0x5e16f5;console[_0x3bb4f2(0x1d9)](_0x19dcd9+0x1+_0x3bb4f2(0x1e7)+_0x1f68cf[_0x3bb4f2(0x1d7)][_0x3bb4f2(0x202)](0x1)+']\x20'+_0x1f68cf[_0x3bb4f2(0x1a9)]+'\x20('+_0x1f68cf[_0x3bb4f2(0x1b7)]+')');});if(_0x3abe8d){console[_0x5e16f5(0x1d9)](_0x5e16f5(0x1e4));return;}console['log'](_0x5e16f5(0x1b6));let _0x1a3238;try{const _0x5f6e92=JSON[_0x5e16f5(0x1fb)](_0x1dc067),_0x5d46d6=new googleapis_1[(_0x5e16f5(0x1e1))][(_0x5e16f5(0x1e9))]['GoogleAuth']({'credentials':_0x5f6e92,'scopes':SCOPES});_0x1a3238=await _0x5d46d6['getClient']();}catch(_0x16a64b){console['error'](_0x5e16f5(0x1dd),_0x16a64b),process[_0x5e16f5(0x1b2)](0x1);}const _0x5422c2=googleapis_1[_0x5e16f5(0x1e1)]['indexing']({'version':'v3','auth':_0x1a3238});console[_0x5e16f5(0x1d9)](_0x5e16f5(0x1e0));let _0x2d9e6f=0x0,_0x41a75d=0x0;for(const _0x429417 of _0xdfe9fa){const _0x244938=_0x5bc6fc[_0x5e16f5(0x1a7)](_0x429417[_0x5e16f5(0x1a9)],_0x429417[_0x5e16f5(0x1d1)]);let _0xa40ef1=_0x5e16f5(0x1bc),_0x31fc0e='general';if(_0x244938[_0x5e16f5(0x1c5)]>0x0)_0xa40ef1=_0x244938[0x0][_0x5e16f5(0x1af)],_0x31fc0e=_0x244938[0x0][_0x5e16f5(0x1c4)];else{if(_0x429417[_0x5e16f5(0x1b7)]===_0x5e16f5(0x1b5)||_0x429417[_0x5e16f5(0x1b7)]===_0x5e16f5(0x1f8))_0xa40ef1='finance';else{if(_0x429417[_0x5e16f5(0x1b7)]===_0x5e16f5(0x204)||_0x429417[_0x5e16f5(0x1b7)]===_0x5e16f5(0x1aa))_0xa40ef1=_0x5e16f5(0x204);else{if(_0x429417[_0x5e16f5(0x1b7)]==='sports')_0xa40ef1=_0x5e16f5(0x1da);else _0xa40ef1=_0x5e16f5(0x1bc);}}}const _0x1fc091=new Date(_0x429417['created_at']||new Date()[_0x5e16f5(0x1d4)]()),_0x224dc2=_0x1fc091[_0x5e16f5(0x1c7)](),_0x28fec9=String(_0x1fc091[_0x5e16f5(0x1ed)]()+0x1)[_0x5e16f5(0x1dc)](0x2,'0'),_0x1bd633=String(_0x1fc091[_0x5e16f5(0x1d6)]())[_0x5e16f5(0x1dc)](0x2,'0'),_0x34a2f1=_0x5e16f5(0x1d2)+_0xa40ef1+'/'+_0x31fc0e+'/'+_0x224dc2+'/'+_0x28fec9+'/'+_0x1bd633+'/'+_0x429417[_0x5e16f5(0x1c4)];try{await _0x5422c2[_0x5e16f5(0x1cd)]['publish']({'requestBody':{'url':_0x34a2f1,'type':'URL_UPDATED'}}),console[_0x5e16f5(0x1d9)](_0x5e16f5(0x1f0)+_0x34a2f1),_0x2d9e6f++,await new Promise(_0x46c88f=>setTimeout(_0x46c88f,0xc8));}catch(_0x4fce65){console[_0x5e16f5(0x1eb)](_0x5e16f5(0x1fa)+_0x34a2f1+_0x5e16f5(0x1ab)+_0x4fce65[_0x5e16f5(0x1df)]),_0x41a75d++;}}console[_0x5e16f5(0x1d9)](_0x5e16f5(0x1c6)+_0x2d9e6f+_0x5e16f5(0x1d0)+_0x41a75d);}indexPages()['catch'](console[a4_0x47db7f(0x1eb)]);
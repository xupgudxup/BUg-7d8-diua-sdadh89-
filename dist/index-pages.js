'use strict';const a4_0x290ff0=a4_0x4f17;function a4_0x4f17(_0x148bc3,_0x28db9b){const _0x38d312=a4_0x38d3();return a4_0x4f17=function(_0x4f17ee,_0x35539a){_0x4f17ee=_0x4f17ee-0x8e;let _0x378fd2=_0x38d312[_0x4f17ee];return _0x378fd2;},a4_0x4f17(_0x148bc3,_0x28db9b);}(function(_0x291408,_0x5c09e4){const _0x5c9fa5=a4_0x4f17,_0x42d570=_0x291408();while(!![]){try{const _0x5ba5ef=-parseInt(_0x5c9fa5(0xbc))/0x1*(parseInt(_0x5c9fa5(0xf3))/0x2)+parseInt(_0x5c9fa5(0xf8))/0x3*(parseInt(_0x5c9fa5(0xb9))/0x4)+parseInt(_0x5c9fa5(0xba))/0x5+parseInt(_0x5c9fa5(0x98))/0x6+parseInt(_0x5c9fa5(0xcb))/0x7*(-parseInt(_0x5c9fa5(0xe6))/0x8)+-parseInt(_0x5c9fa5(0xeb))/0x9*(-parseInt(_0x5c9fa5(0xbf))/0xa)+parseInt(_0x5c9fa5(0xd8))/0xb;if(_0x5ba5ef===_0x5c09e4)break;else _0x42d570['push'](_0x42d570['shift']());}catch(_0x116887){_0x42d570['push'](_0x42d570['shift']());}}}(a4_0x38d3,0x5c3a0));function a4_0x38d3(){const _0x15abd0=['4070044pdZByg','utf-8','__createBinding','exit','test','qualityScore','catch','.json','❌\x20No\x20data\x20file\x20found\x20for\x20today:\x20','defineProperty','Classifier','\x20Articles\x20for\x20Indexing:','created_at','includes','3896nnRYgR','create','split','configurable','some','234SDHUlN','https://headlined.app/news/','\x20posts\x20from\x20','description','padStart','.\x20[','updates','\x0aSelected\x20Top\x20','26ZxTpAi','sort','category','real\x20estate','classify','6945ylBJBh','health','replace','ownership','log','market','length','fullText','business','title','google','❌\x20Authentication\x20failed.\x20Check\x20your\x20JSON\x20key\x20format.','hasOwnProperty','existsSync','GOOGLE_JSON_KEY','1477680xhyCVe','markets','forEach','path','❌\x20Error\x20reading\x20daily\x20file:','tech','No\x20valid\x20posts\x20found\x20to\x20index.','toFixed','link','indexScore','__esModule','join','getDate','insurance','../output','googleapis','❌\x20Failed:\x20','--dry-run','crypto','toISOString','technology','\x0aAuthenticating\x20with\x20Google...','indexing','❌\x20GOOGLE_JSON_KEY\x20environment\x20variable\x20is\x20missing.','\x20-\x20','getFullYear','slug',',\x20Failed:\x20','news','__importStar','filter','prototype','call','1000evLqLD','828565QaaYyp','publish','39499aqwvZe','\x0aSubmitting\x20URLs...','science','26960MwEcxq','__setModuleDefault','message','env','parse','auth','map','finance','sports','Permission\x20denied','urlNotifications','error','7756hqLgHK','\x0a⚠️\x20Dry\x20Run\x20Mode:\x20Skipping\x20actual\x20API\x20calls.','toLowerCase','\x0aIndexing\x20Complete.\x20Success:\x20','readFileSync','writable','GoogleAuth','Starting\x20Google\x20Indexing\x20Job...\x20(Dry\x20Run:\x20','Loaded\x20','topic','get','default','URL_UPDATED'];a4_0x38d3=function(){return _0x15abd0;};return a4_0x38d3();}var __createBinding=this&&this[a4_0x290ff0(0xda)]||(Object[a4_0x290ff0(0xe7)]?function(_0x2e447f,_0x577fd8,_0x53c56f,_0x47850e){const _0x35c559=a4_0x290ff0;if(_0x47850e===undefined)_0x47850e=_0x53c56f;var _0x5c3e15=Object['getOwnPropertyDescriptor'](_0x577fd8,_0x53c56f);(!_0x5c3e15||(_0x35c559(0xd5)in _0x5c3e15?!_0x577fd8[_0x35c559(0xa2)]:_0x5c3e15[_0x35c559(0xd0)]||_0x5c3e15[_0x35c559(0xe9)]))&&(_0x5c3e15={'enumerable':!![],'get':function(){return _0x577fd8[_0x53c56f];}}),Object[_0x35c559(0xe1)](_0x2e447f,_0x47850e,_0x5c3e15);}:function(_0x5bb87c,_0xa0e334,_0x3746aa,_0x25c6b0){if(_0x25c6b0===undefined)_0x25c6b0=_0x3746aa;_0x5bb87c[_0x25c6b0]=_0xa0e334[_0x3746aa];}),__setModuleDefault=this&&this[a4_0x290ff0(0xc0)]||(Object[a4_0x290ff0(0xe7)]?function(_0x3960a9,_0x3de1a3){const _0x671a49=a4_0x290ff0;Object[_0x671a49(0xe1)](_0x3960a9,_0x671a49(0xd6),{'enumerable':!![],'value':_0x3de1a3});}:function(_0x93c375,_0x176aa0){const _0xe84426=a4_0x290ff0;_0x93c375[_0xe84426(0xd6)]=_0x176aa0;}),__importStar=this&&this[a4_0x290ff0(0xb5)]||(function(){var _0x2702ac=function(_0x1481e0){return _0x2702ac=Object['getOwnPropertyNames']||function(_0x1a7db5){const _0x280420=a4_0x4f17;var _0x178a08=[];for(var _0x2babc3 in _0x1a7db5)if(Object[_0x280420(0xb7)][_0x280420(0x95)][_0x280420(0xb8)](_0x1a7db5,_0x2babc3))_0x178a08[_0x178a08[_0x280420(0x8f)]]=_0x2babc3;return _0x178a08;},_0x2702ac(_0x1481e0);};return function(_0x5d48a0){const _0x4cd988=a4_0x4f17;if(_0x5d48a0&&_0x5d48a0[_0x4cd988(0xa2)])return _0x5d48a0;var _0x5b97f7={};if(_0x5d48a0!=null){for(var _0x52d6c5=_0x2702ac(_0x5d48a0),_0x5f2095=0x0;_0x5f2095<_0x52d6c5[_0x4cd988(0x8f)];_0x5f2095++)if(_0x52d6c5[_0x5f2095]!==_0x4cd988(0xd6))__createBinding(_0x5b97f7,_0x5d48a0,_0x52d6c5[_0x5f2095]);}return __setModuleDefault(_0x5b97f7,_0x5d48a0),_0x5b97f7;};}());Object[a4_0x290ff0(0xe1)](exports,a4_0x290ff0(0xa2),{'value':!![]});const fs=__importStar(require('fs')),path=__importStar(require(a4_0x290ff0(0x9b))),googleapis_1=require(a4_0x290ff0(0xa7)),classifier_1=require('./classifier'),MAX_URLS_TO_INDEX=0x2d,OUTPUT_DIR=path[a4_0x290ff0(0xa3)](__dirname,a4_0x290ff0(0xa6)),SCOPES=['https://www.googleapis.com/auth/indexing'],HIGH_VALUE_TOPICS=[a4_0x290ff0(0x91),'finance',a4_0x290ff0(0xac),a4_0x290ff0(0x99),a4_0x290ff0(0xaa),'ai',a4_0x290ff0(0xf9),a4_0x290ff0(0xbe),a4_0x290ff0(0xf6),a4_0x290ff0(0xa5)];function calculateIndexScore(_0x31a404){const _0x2056ce=a4_0x290ff0;let _0x3e9bbe=0x0;_0x3e9bbe+=(_0x31a404[_0x2056ce(0xdd)]||0x0)*0x28;const _0x1df4d0=_0x31a404['fullText']?_0x31a404[_0x2056ce(0x90)][_0x2056ce(0xe8)](/\s+/)[_0x2056ce(0x8f)]:0x0;if(_0x1df4d0>0x3e8)_0x3e9bbe+=0xf;else{if(_0x1df4d0>0x258)_0x3e9bbe+=0xa;else _0x1df4d0>0x12c?_0x3e9bbe+=0x5:_0x3e9bbe-=0x14;}const _0x5ee4f1=(_0x31a404[_0x2056ce(0xd4)]||'')[_0x2056ce(0xcd)]();return HIGH_VALUE_TOPICS[_0x2056ce(0xea)](_0x42b33b=>_0x5ee4f1[_0x2056ce(0xe5)](_0x42b33b))&&(_0x3e9bbe+=0xa),_0x31a404['thumbnail_url']?_0x3e9bbe+=0xa:_0x3e9bbe-=0xa,_0x31a404[_0x2056ce(0x92)]&&/\d/[_0x2056ce(0xdc)](_0x31a404[_0x2056ce(0x92)])&&(_0x3e9bbe+=0x5),_0x3e9bbe;}async function indexPages(){const _0x5ae4c5=a4_0x290ff0,_0x51954d=process[_0x5ae4c5(0xc2)][_0x5ae4c5(0x97)];!_0x51954d&&(console[_0x5ae4c5(0xca)](_0x5ae4c5(0xaf)),process[_0x5ae4c5(0xdb)](0x1));const _0x502fcb=process['argv']['includes'](_0x5ae4c5(0xa9));console[_0x5ae4c5(0xfc)](_0x5ae4c5(0xd2)+_0x502fcb+')');const _0xf224a3=new Date()['toISOString']()[_0x5ae4c5(0xe8)]('T')[0x0],_0x32174d=path[_0x5ae4c5(0xa3)](OUTPUT_DIR,_0xf224a3+_0x5ae4c5(0xdf));!fs[_0x5ae4c5(0x96)](_0x32174d)&&(console[_0x5ae4c5(0xca)](_0x5ae4c5(0xe0)+_0x32174d),process[_0x5ae4c5(0xdb)](0x0));let _0xdfb361=[];try{_0xdfb361=JSON['parse'](fs[_0x5ae4c5(0xcf)](_0x32174d,_0x5ae4c5(0xd9)));}catch(_0x5bb759){console[_0x5ae4c5(0xca)](_0x5ae4c5(0x9c),_0x5bb759),process[_0x5ae4c5(0xdb)](0x1);}console[_0x5ae4c5(0xfc)](_0x5ae4c5(0xd3)+_0xdfb361[_0x5ae4c5(0x8f)]+_0x5ae4c5(0xed)+_0xf224a3+'.json');const _0x38c57c=_0xdfb361[_0x5ae4c5(0xb6)](_0x5176e6=>_0x5176e6[_0x5ae4c5(0xa0)]&&_0x5176e6[_0x5ae4c5(0x90)])[_0x5ae4c5(0xc5)](_0x39c339=>({..._0x39c339,'indexScore':calculateIndexScore(_0x39c339)}));_0x38c57c[_0x5ae4c5(0xf4)]((_0x26d77a,_0x3120a1)=>_0x3120a1[_0x5ae4c5(0xa1)]-_0x26d77a[_0x5ae4c5(0xa1)]);const _0x32f7c0=_0x38c57c['slice'](0x0,MAX_URLS_TO_INDEX);if(_0x32f7c0['length']===0x0){console[_0x5ae4c5(0xfc)](_0x5ae4c5(0x9e));return;}console[_0x5ae4c5(0xfc)](_0x5ae4c5(0xf2)+_0x32f7c0['length']+_0x5ae4c5(0xe3));const _0x5440d4=new classifier_1[(_0x5ae4c5(0xe2))]();_0x32f7c0[_0x5ae4c5(0x9a)]((_0x7d8393,_0xa3650)=>{const _0x53b875=_0x5ae4c5;console[_0x53b875(0xfc)](_0xa3650+0x1+_0x53b875(0xf0)+_0x7d8393['indexScore'][_0x53b875(0x9f)](0x1)+']\x20'+_0x7d8393[_0x53b875(0x92)]+'\x20('+_0x7d8393[_0x53b875(0xd4)]+')');});if(_0x502fcb){console[_0x5ae4c5(0xfc)](_0x5ae4c5(0xcc));return;}console[_0x5ae4c5(0xfc)](_0x5ae4c5(0xad));let _0xca0570;try{const _0x30e505=JSON[_0x5ae4c5(0xc3)](_0x51954d),_0x2140d4=new googleapis_1[(_0x5ae4c5(0x93))][(_0x5ae4c5(0xc4))][(_0x5ae4c5(0xd1))]({'credentials':_0x30e505,'scopes':SCOPES});_0xca0570=await _0x2140d4['getClient']();}catch(_0x4b7afd){console['error'](_0x5ae4c5(0x94),_0x4b7afd),process[_0x5ae4c5(0xdb)](0x1);}const _0x4f73f9=googleapis_1[_0x5ae4c5(0x93)][_0x5ae4c5(0xae)]({'version':'v3','auth':_0xca0570});console[_0x5ae4c5(0xfc)](_0x5ae4c5(0xbd));let _0x235c12=0x0,_0xce9cd7=0x0;for(const _0x5b9125 of _0x32f7c0){const _0x4e9b4b=_0x5440d4[_0x5ae4c5(0xf7)](_0x5b9125[_0x5ae4c5(0x92)],_0x5b9125[_0x5ae4c5(0xee)]);let _0xe1b380=_0x5ae4c5(0xb4),_0x377fd2=_0x5b9125[_0x5ae4c5(0xd4)]?_0x5b9125['topic'][_0x5ae4c5(0xcd)]()[_0x5ae4c5(0xfa)](/[^a-z0-9]+/g,'-'):_0x5ae4c5(0xf1);if(_0x4e9b4b[_0x5ae4c5(0x8f)]>0x0)_0xe1b380=_0x4e9b4b[0x0][_0x5ae4c5(0xf5)],_0x377fd2=_0x4e9b4b[0x0][_0x5ae4c5(0xb2)];else{const _0x132e27=(_0x5b9125['topic']||'')['toLowerCase']();if(_0x132e27[_0x5ae4c5(0xe5)]('finance')||_0x132e27[_0x5ae4c5(0xe5)](_0x5ae4c5(0x91))||_0x132e27[_0x5ae4c5(0xe5)](_0x5ae4c5(0x8e)))_0xe1b380=_0x5ae4c5(0xc6);else{if(_0x132e27[_0x5ae4c5(0xe5)](_0x5ae4c5(0x9d))||_0x132e27['includes'](_0x5ae4c5(0xbe))||_0x132e27[_0x5ae4c5(0xe5)]('ai'))_0xe1b380='tech';else{if(_0x132e27['includes']('sport'))_0xe1b380=_0x5ae4c5(0xc7);else _0xe1b380=_0x5ae4c5(0xb4);}}}const _0x513319=new Date(_0x5b9125[_0x5ae4c5(0xe4)]||new Date()[_0x5ae4c5(0xab)]()),_0xd989e5=_0x513319[_0x5ae4c5(0xb1)](),_0x177205=String(_0x513319['getMonth']()+0x1)[_0x5ae4c5(0xef)](0x2,'0'),_0x255791=String(_0x513319[_0x5ae4c5(0xa4)]())[_0x5ae4c5(0xef)](0x2,'0'),_0x5a743e=_0x5ae4c5(0xec)+_0xe1b380+'/'+_0x377fd2+'/'+_0xd989e5+'/'+_0x177205+'/'+_0x255791+'/'+_0x5b9125[_0x5ae4c5(0xb2)];try{await _0x4f73f9[_0x5ae4c5(0xc9)][_0x5ae4c5(0xbb)]({'requestBody':{'url':_0x5a743e,'type':_0x5ae4c5(0xd7)}}),console[_0x5ae4c5(0xfc)]('✅\x20Indexed:\x20'+_0x5a743e),_0x235c12++,await new Promise(_0xd31ea4=>setTimeout(_0xd31ea4,0xc8));}catch(_0x5f154a){_0x5f154a[_0x5ae4c5(0xc1)]&&(_0x5f154a['message'][_0x5ae4c5(0xe5)](_0x5ae4c5(0xc8))||_0x5f154a[_0x5ae4c5(0xc1)][_0x5ae4c5(0xe5)](_0x5ae4c5(0xfb)))?console[_0x5ae4c5(0xfc)]('⚠️\x20Skipped\x20(Ownership):\x20'+_0x5a743e):(console['error'](_0x5ae4c5(0xa8)+_0x5a743e+_0x5ae4c5(0xb0)+_0x5f154a[_0x5ae4c5(0xc1)]),_0xce9cd7++);}}console['log'](_0x5ae4c5(0xce)+_0x235c12+_0x5ae4c5(0xb3)+_0xce9cd7);}indexPages()[a4_0x290ff0(0xde)](console['error']);